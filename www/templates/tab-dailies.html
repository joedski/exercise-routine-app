<ion-view title="Daily Routine">
	<ion-content class="has-header">
    <div ng-if="! isLoaded && ! isErrored">
      <p>
        <em>Loading exercisesâ€¦</em>
      </p>
    </div>

    <div ng-if="isErrored">
      <p><em>Error: {{ errorMessage }}</em></p>
    </div>

		<ion-list ng-if="isLoaded">
			<ion-item ng-repeat="exercise in dailyExercises"
        type="item" class="item-icon-left"
        href="#/tab/daily/{{exercise.id}}">
        
				<span ng-if="!exercise.completed"
					ng-click="exercise.completed = true; $event.stopPropagation(); $event.preventDefault();"
					class="button button-icon icon ion-ios7-circle-outline positive"></span>
				<span ng-if="exercise.completed"
					ng-click="exercise.completed = false; $event.stopPropagation(); $event.preventDefault();"
					class="button button-icon icon ion-ios7-checkmark positive"></span>

				<span class="item-note">
					<span ng-repeat="category in exercise.categories" class="category-tag">
						{{ category }}<span ng-if="! $last">, </span>
					</span>
				</span>

				<h2>{{ exercise.name }}</h2>
			</ion-item>
		</ion-list>
	</ion-content>
</ion-view>
